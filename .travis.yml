---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="amazonlinux" tag="1"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - n=0 ; until [ "$n" = 3 ] ; do tox --parallel all && break ; n=$((n+1)) ; done

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack: "K0RempIh72cQuR3fCo9XoWnNx5iuhsPDa1XI1zVFEOvoSscJZyn0qnb29Of3fBBjZd6TOGsiC99rlhmmNC7MfMnIgqQLTF9U2FJHjtZoIs0m1W2y8fwCc7b9S59vwol3kwRK32kKnpQ7oPUJNGXA0nzd/ptR2TFikIWzEe7fJFMX8BH7QBWSi/gWxabmv1QBeHe//KK4LDVhp8I8/MpFaSAD27k6Bc5RLsvbi9BPAQKRpSdaNnCgt7AbdcuN83pj51Qu3esiva2kNXcijGoODCddLXL0aRDzcmDqnYYSMMwDYoF4sQwGJm6WJOaaTMqoXKpYFhESQ0OEW3McuRG32moDvrhBHmLhnPX/CLLyBAGxXe6upZhex4TtDGz1eUU+VETG1yW+z8mrIvmVORJek/pB3FTO6dZYuIUemUpPgzbmFhZScafOvll1mmY/nvrWuaOBw7ACCSsLaawbP3bYSpPxXMu5llK+Ljwv8n9EXia5Qrc/bH3BH9SfXsG2v+kchHGCJbYzh3mz09yHpXlifn7d+QZ+wLsoRadNEzFZcUV1cwXkSf3H4JAo6jMQC/SPe84T5oteQOanT1MR7WKYqhOaM/Bin8AfbIpged9f/vt3KrrqxOO9fGd+lcu7gUDwPMT6lamFDlX4UEzrsrgVP2CJ4wKC1F8j+SpggxZVINU="
  email: false
